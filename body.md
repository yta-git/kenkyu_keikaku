# 取り組みたい研究課題

## はじめに

私が，奈良先端科学技術大学院大学で取り組みたい研究課題は，
「**電気的性質を利用したCANバス上ECUの物理的位置推定と不正ECU隔離手法**」
である．

## 研究背景

近代的な自動車には，安全向上や効率改善など様々な目的の為にElectronic Control Unit(ECU)が
複数装備されている．そして，それぞれのECUは車内ネットワークを通じて情報の交換や制御を行なっている[[carhackers]]．
ECU同士の通信の際には，現在のところ，簡単な構造も持ち，かつ信頼性の高いController Area Network(CAN)プロトコルが広く用いられている．

しかし，CANにはメッセージの発信元を認証する機能が備わっていないため，
不正に取り付けられたECUや外部から不正操作されたECUが他のECUになりすまし，
自動車制御に影響を与える不正なメッセージ送信やDoS攻撃などを行うことが可能であることが実証されている[[jissho]][[checkoway2011comprehensive]]．

このような攻撃から自動車システムを防御するには，メッセージ発信元ECUの認証や
攻撃の検知，不正ECUの特定，攻撃への対処などが必要不可欠である．

## 関連研究

ECUの認証に関する手法には，CanAuth[[canauth]]やLiBrA-CAN，[[libra]]，LeiA[[leia]]などが提案されている．
これらの手法では，ECU間でメッセージを認証する機能を追加することで，不正ECUを排除することを目指している．
しかし，このような手法を実現するためには，ECUの改良が必要となるため，
現在流通している自動車に適応することが困難である．

CANバスへの攻撃を検知する手法には，メッセージの送信頻度を利用する手法[[song2016intrusion]]や
ECUの持つ固有の電気的特性を利用する手法[[choi]]などがある．
しかし，これらの手法で検出されるのは，異常なメッセージの持つアービトレーションIDや送信元ECUの特徴であり，
検出した結果から，問題のECUを物理的に直接特定することはできない．
このため，攻撃への対処を行う際には，[[humayed2017using]]や[[delay]]などのように
正規ECUの動作に影響を及ぼす可能性のある対策を行う必要がある．

そこで本稿では，メッセージの発信元ECUの物理的位置の推定を行い，他の正規ECUへの影響が小さいCAN防御手法を提案する．

## 提案手法

### ECUの物理的位置推定手法

提案する手法では，既存のCANネットワークの端点に監視用ECUを2つ設置する([@fig:1]では提案装置1と提案装置2)．

![監視用ECUの設置](img/1.png){#fig:1 width=50%}

装置設置後，設置された2装置間の通信にかかる時間を計測する([@fig:1]では$T$)．

ECUの物理的位置を推定する場合には，目的のECUから発信された電圧変化が提案装置1，提案装置2に到達するまでの
時間差を測定する．[@fig:2]では，ECU2の物理的位置推定の為に，到達時間の差$\Delta t$を計測している．

![信号が到達するまでの時間差の測定](img/2.png){#fig:2 width=50%}

すると，$\Delta t$の値から，目的ECUの物理的位置を推測することができる．
[@fig:2]の例では，$$\frac{AE}{EB} = \frac{t_2 + \Delta t}{t_2} = \frac{T + \Delta t}{T-\Delta t}$$
と計算することができる．

また，既知の正規ECUの全てについてあらかじめ$\Delta t$を計測しておくことで，
不正にECUを追加された場合に，その存在を検知することができる．


### 不正ECU隔離手法

\ref{ecuux306eux7269ux7406ux7684ux4f4dux7f6eux63a8ux5b9aux624bux6cd5}で提案した手法，または
[[song2016intrusion]]や[[choi]]などの手法によって，不正なECUの存在が明らかになった場合を考える．

本手法では，ECUの物理的位置を推定することができるので，
単純なスイッチ機能を追加することで，不正なECUを物理的に迂回することが可能である([@fig:3])．

![不正なECUの迂回](img/3.png){#fig:3 width=50%}

従って，他のECUやシステムへの影響を抑えながら，不正なECUからのメッセージを止めることができる．

## 実験方法 / 評価方法

はじめに，電気信号の物理的性質を観察するためにテストベンチを作成し，信号の到着時間の差を計測できるのかを
計測機器を用いて確認する．確認できたならば，FPGAなどを利用して，リアルタイムでECU位置測定と
不正ECUの隔離が行えるシステムの試作を行う．正常に動作することが確認できた際には，実際の自動車に適応できるのかについて検討する．

## 課題

本手法に用いる2つの提案装置間では，高精度での時間同期が必要となる．
したがって，装置間での時間同期方法について，NTPプロトコルなどを利用するか，または
時間情報を提供する別の装置を追加するのかについて検討する余地がある．
また，信号の到着時間差を認識するには，どの程度の精度をもつ計測機器が必要となるのかについて検討する必要がある．

# これまでの修学内容

## FabHeteroプロジェクト

## ARSアルゴリズムのハードウェア設計

## レーザーポインタを用いた家電操作システム

## イラスト翻訳システム

